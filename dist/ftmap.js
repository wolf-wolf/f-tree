!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("directory-tree"),require("path"),require("fs"),require("chalk"),require("yargs")):"function"==typeof define&&define.amd?define(["exports","directory-tree","path","fs","chalk","yargs"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ftmap={},e.dirTree,e.path,e.fs,e.chalk,e.yargs)}(this,(function(e,t,r,o,l,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var u=a(t),c=i(r),s=i(o),f=a(l),d=a(n);const p={directory:"D",file:"F"};function g(e,t){let r="";for(let o=0;o<e;o++)"0"===t[o]?r+="    ":r+="│   ";return r}const b={pattern:"",level:1/0,tag:!1};function h(e,t,r,o){const{level:l,tag:n}=o;let a=l||1/0,i="";for(let l=0;l<e.length;l++){let u=r,c=e[l];i+=g(t,u),l===e.length-1?(i+="└──",u+="0"):(i+="├──",u+="1");const s=`[${p[c.type]}] `;i+=`${n?s:""}${c.name}\n`,c.children&&t+1<a&&(i+=h(c.children,t+1,u,o))}return i}function y(e,t=b){const{pattern:r}=t;let o=r?new RegExp(r.substring(1,r.length-2)):void 0;return h(u.default(e,{exclude:o}).children,0,"",t)}e.cli=async function(e){let t=function(e){const t=d.default.usage("Usage: $0 [options]").alias("O","output").describe("O","内容输出地址，默认为控制台打印").alias("T","tag").describe("T","是否展示文件类型").alias("L","level").describe("L","文件目录结构的展示层级").alias("I","pattern").describe("I",'需要排除的文件目录正在表达式，eg. "/node_modules|.git/"').help("h").alias("h","help").showHelpOnFail(!0,"Specify --help for available options").argv;return{tag:t.tag||!1,pattern:t.pattern||!1,level:t.level||!1,output:t.output||!1}}();t.targetDirectory=t.targetDirectory||process.cwd(),console.log("%s",f.default.blue.bold(">> START 文件目录扫描...."));const r=y(t.targetDirectory,t);console.log("%s",f.default.green.bold(">> DONE 文件目录扫描...")),t.output?(console.log("%s",f.default.blue.bold(`>> START 文件写入....[${t.output}]`)),s.writeFileSync(c.resolve(t.output),r),console.log("%s",f.default.green.bold(">> DONE 文件写入...."))):console.log(r),console.log("%s",f.default.green.bold(">> DONE 执行完成...."))},Object.defineProperty(e,"__esModule",{value:!0})}));
