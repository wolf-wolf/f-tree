!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("directory-tree"),require("path"),require("fs"),require("chalk"),require("yargs")):"function"==typeof define&&define.amd?define(["exports","directory-tree","path","fs","chalk","yargs"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ftmap={},e.dirTree,e.path,e.fs,e.chalk,e.yargs)}(this,(function(e,t,r,o,l,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var c=a(t),u=i(r),s=i(o),f=a(l),d=a(n);const p={directory:"D",file:"F"};function g(e,t){let r="";for(let o=0;o<e;o++)"0"===t[o]?r+="    ":r+="│   ";return r}const b={pattern:"",level:1/0,tag:!1,targetDirectory:process.cwd()};function y(e,t,r,o){const{level:l,tag:n}=o;let a=l||1/0,i="";function c(e,t){return e.name.toLowerCase(),t.name.toLowerCase(),e>t?-1:t>e?1:0}let u=e;if(!o.nature){let t=e.filter((e=>"directory"===e.type)).sort(c),r=e.filter((e=>"file"===e.type)).sort(c);u=t.concat(r)}for(let e=0;e<u.length;e++){let l=r,c=u[e];i+=g(t,l),e===u.length-1?(i+="└──",l+="0"):(i+="├──",l+="1");const s=`[${p[c.type]}] `;i+=`${n?s:""}${c.name}\n`,c.children&&t+1<a&&(i+=y(c.children,t+1,l,o))}return i}function h(e=b){let{pattern:t,targetDirectory:r}=e;r=r||process.cwd();let o="";return"[object String]"===Object.prototype.toString.call(t)?o=new RegExp(t.substring(1,t.length-2)):"[object RegExp]"===Object.prototype.toString.call(t)&&(o=t),y(c.default(r,{exclude:o}).children,0,"",e)}const O={getFileTree:h};e.cli=async function(e){let t=function(e){const t=d.default.usage("Usage: $0 [options]").alias("O","output").describe("O","内容输出地址，默认为控制台打印").alias("T","tag").describe("T","是否展示文件类型").alias("L","level").describe("L","文件目录结构的展示层级").alias("N","nature").describe("N","使用系统自然顺序，若不设置则默认显示为目录-文件的排序方式").alias("I","pattern").describe("I",'需要排除的文件目录正则表达式（注意引号）\neg. "/node_modules|.git/"').help("h").alias("h","help").showHelpOnFail(!0,"Specify --help for available options").argv;return{tag:t.tag||!1,pattern:t.pattern||!1,level:t.level||!1,output:t.output||!1,nature:t.nature||!1}}();console.log("%s",f.default.blue.bold(">> START 文件目录扫描...."));const r=h(t);console.log("%s",f.default.green.bold(">> DONE 文件目录扫描...")),t.output?(console.log("%s",f.default.blue.bold(`>> START 文件写入....[${t.output}]`)),s.writeFileSync(u.resolve(t.output),r),console.log("%s",f.default.green.bold(">> DONE 文件写入...."))):console.log(r),console.log("%s",f.default.green.bold(">> DONE 执行完成...."))},e.default=O,Object.defineProperty(e,"__esModule",{value:!0})}));
