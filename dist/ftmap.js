!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("directory-tree"),require("path"),require("fs"),require("chalk"),require("yargs")):"function"==typeof define&&define.amd?define(["exports","directory-tree","path","fs","chalk","yargs"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ftmap={},e.dirTree,e.path,e.fs,e.chalk,e.yargs)}(this,(function(e,t,o,r,l,n){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var i=c(t),u=a(o),s=a(r),f=c(l),d=c(n);const p={directory:"D",file:"F"};function g(e,t){let o="";for(let r=0;r<e;r++)"0"===t[r]?o+="    ":o+="│   ";return o}const b={pattern:"",level:1/0,tag:!1,targetDirectory:process.cwd()};function y(e,t,o,r){const{level:l,tag:n}=r;let c=l||1/0,a="";for(let l=0;l<e.length;l++){let i=o,u=e[l];a+=g(t,i),l===e.length-1?(a+="└──",i+="0"):(a+="├──",i+="1");const s=`[${p[u.type]}] `;a+=`${n?s:""}${u.name}\n`,u.children&&t+1<c&&(a+=y(u.children,t+1,i,r))}return a}function h(e=b){let{pattern:t,targetDirectory:o}=e;o=o||process.cwd();let r="";return"[object String]"===Object.prototype.toString.call(t)?r=new RegExp(t.substring(1,t.length-2)):"[object RegExp]"===Object.prototype.toString.call(t)&&(r=t),y(i.default(o,{exclude:r}).children,0,"",e)}const O={getFileTree:h};e.cli=async function(e){let t=function(e){const t=d.default.usage("Usage: $0 [options]").alias("O","output").describe("O","内容输出地址，默认为控制台打印").alias("T","tag").describe("T","是否展示文件类型").alias("L","level").describe("L","文件目录结构的展示层级").alias("I","pattern").describe("I",'需要排除的文件目录正则表达式（注意引号）\neg. "/node_modules|.git/"').help("h").alias("h","help").showHelpOnFail(!0,"Specify --help for available options").argv;return{tag:t.tag||!1,pattern:t.pattern||!1,level:t.level||!1,output:t.output||!1}}();console.log("%s",f.default.blue.bold(">> START 文件目录扫描...."));const o=h(t);console.log("%s",f.default.green.bold(">> DONE 文件目录扫描...")),t.output?(console.log("%s",f.default.blue.bold(`>> START 文件写入....[${t.output}]`)),s.writeFileSync(u.resolve(t.output),o),console.log("%s",f.default.green.bold(">> DONE 文件写入...."))):console.log(o),console.log("%s",f.default.green.bold(">> DONE 执行完成...."))},e.default=O,Object.defineProperty(e,"__esModule",{value:!0})}));
